apiVersion: octohelm.tech/v1alpha1
kind: KubePkg
metadata:
  name: demo
  namespace: default
  annotations:
    octohelm.tech/platforms: linux/amd64,linux/arm64
spec:
  version: 0.0.1
  images:
    docker.io/library/nginx:alpine: ''
  manifests:
    web.service:
      apiVersion: v1
      kind: Service
      metadata:
        name: web
      spec:
        selector:
          app: web
        ports:
          - name: http-80
            protocol: TCP
            port: 80
            targetPort: 80
    web.deployment:
      apiVersion: apps/v1
      kind: Deployment
      metadata:
        name: web
      spec:
        replicas: 1
        selector:
          matchLabels:
            app: web
        template:
          metadata:
            labels:
              app: web
          spec:
            containers:
              - image: docker.io/library/nginx:alpine
                imagePullPolicy: IfNotPresent
                name: web
                ports:
                  - containerPort: 80
                    name: http
                  - containerPort: 443
                    name: https
